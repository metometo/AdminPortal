<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
	  xmlns:f="http://java.sun.com/jsf/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"  
      >
    <h:body>
 
    	<ui:composition template="./common/page_template.xhtml">
 			
 			<ui:define name="header">
 				<h:graphicImage value="resources/images/logo.bmp" id="logo" />
				<span id="feader_text">Admin Portal</span>
			</ui:define>
 			
 			
 			
    		<ui:define name="content">	
    			
    			<br />
    			
    			<h3>
    			<p:outputLabel value="You are now registered." rendered="#{param['registered']=='true'}" styleClass="orange_text"/>
    			</h3>   			
    			
    			<br />
    			
    			<h:form id="loginForm" prependId="false">
    			
				    <!-- Id's must not be changed to support spring security check -->
				    <h:panelGrid columns="3" cellpadding="5" cellspacing="1">
					   
					    <p:outputLabel for="j_username" value="#{msg['username']}" />  
					    <p:inputText id="j_username" required="true" label="username" value="#{loginController.user}" />  
					    
					    <h:panelGroup columns="2"> <!--  Prints first textfield messsage and "wrong user name or password" for the whole form -->
						    <p:outputLabel value="Wrong user name or password." rendered="#{param['authenticated']=='false'}" styleClass="orange_text" />
						 	<p:message for="j_username" display="text" />
						</h:panelGroup>
					                   
					    <p:outputLabel for="j_password" value="#{msg['password']}" />  
					    <p:password id="j_password" label="password" required="true" value="#{loginController.password}" />  
					    <p:message for="j_password" display="text" />
					                   
					    <!-- 
					    <h:outputLabel for="_spring_security_remember_me" value="Remember me: " />
					    <h:selectBooleanCheckbox id="_spring_security_remember_me" />        
					    <h:outputText value="&nbsp;" />
					     -->
					   
					    <h:panelGroup columns="2">
					    	<div class="blue_link" >
								<h:outputLink value="registration.jsf">
									<p:outputLabel value="#{msg['registration']}" />
								</h:outputLink>
							</div>
							<div class="right_align">
								<p:commandButton type="submit"  id="login" ajax="false" value="#{msg['login']}" action="#{loginController.doLogin}" />
							</div>
						</h:panelGroup>
					    <h:outputText value="&nbsp;" />
				    
				    
				    </h:panelGrid>
				    
				    
				 
			
				 </h:form>
    			
    			<br /><br />
    			
    		</ui:define>

		</ui:composition>
 
    </h:body>
 
</html>